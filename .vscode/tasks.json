{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "kill-vite-playwright",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-Command",
				"$ports = @(4173,3000,5173); foreach ($p in $ports) { $conns = Get-NetTCPConnection -LocalPort $p -ErrorAction SilentlyContinue; foreach ($c in $conns) { try { Stop-Process -Id $c.OwningProcess -Force -ErrorAction SilentlyContinue } catch {} } }; Get-CimInstance Win32_Process -Filter \"Name='node.exe'\" | Where-Object { $_.CommandLine -match 'playwright|vite|phet-revamp' } | ForEach-Object { try { Stop-Process -Id $_.ProcessId -Force -ErrorAction SilentlyContinue } catch {} }; Write-Output \"Killed candidate processes\""
			],
			"isBackground": false,
			"problemMatcher": [],
			"group": "none"
		},
		{
			"label": "taskkill-node",
			"type": "shell",
			"command": "taskkill",
			"args": [
				"/F",
				"/IM",
				"node.exe"
			],
			"isBackground": false,
			"problemMatcher": [],
			"group": "none"
		},
		{
			"label": "taskkill-node-again",
			"type": "shell",
			"command": "taskkill",
			"args": [
				"/F",
				"/IM",
				"node.exe"
			],
			"isBackground": false,
			"problemMatcher": [],
			"group": "none"
		},
		{
			"label": "stop-node-for-clean-run",
			"type": "shell",
			"command": "taskkill",
			"args": [
				"/F",
				"/IM",
				"node.exe"
			],
			"isBackground": false,
			"problemMatcher": [],
			"group": "none"
		},
		{
			"label": "vite-build",
			"type": "shell",
			"command": "npm",
			"args": [
				"run",
				"build"
			],
			"isBackground": false,
			"problemMatcher": [],
			"group": "none"
		},
		{
			"label": "playwright-all-workers1",
			"type": "shell",
			"command": "npm",
			"args": [
				"test",
				"--",
				"--workers=1",
				"--reporter=list"
			],
			"isBackground": false,
			"problemMatcher": [],
			"group": "test"
		},
		{
			"label": "playwright-all-workers1-line",
			"type": "shell",
			"command": "npm",
			"args": [
				"test",
				"--",
				"--workers=1",
				"--reporter=line"
			],
			"isBackground": false,
			"problemMatcher": [],
			"group": "test"
		},
		{
			"label": "playwright-json-report",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-Command",
				"npx playwright test --workers=1 --reporter=json | Out-File -Encoding utf8 test-results\\pw-last-run.json"
			],
			"isBackground": false,
			"problemMatcher": [],
			"group": "test"
		},
		{
			"label": "playwright-json-report-cmd",
			"type": "shell",
			"command": "cmd",
			"args": [
				"/c",
				"npx playwright test --workers=1 --reporter=json > test-results\\pw-last-run.json"
			],
			"isBackground": false,
			"problemMatcher": [],
			"group": "test"
		},
		{
			"label": "taskkill-cmd",
			"type": "shell",
			"command": "taskkill",
			"args": [
				"/F",
				"/IM",
				"cmd.exe"
			],
			"isBackground": false,
			"problemMatcher": [],
			"group": "none"
		},
		{
			"label": "taskkill-node-before-final",
			"type": "shell",
			"command": "taskkill",
			"args": [
				"/F",
				"/IM",
				"node.exe"
			],
			"isBackground": false,
			"problemMatcher": [],
			"group": "none"
		},
		{
			"label": "playwright-dot-workers1",
			"type": "shell",
			"command": "npm",
			"args": [
				"test",
				"--",
				"--workers=1",
				"--reporter=dot"
			],
			"isBackground": false,
			"problemMatcher": [],
			"group": "test"
		},
		{
			"label": "stop-node-to-cancel-tests",
			"type": "shell",
			"command": "taskkill",
			"args": [
				"/F",
				"/IM",
				"node.exe"
			],
			"isBackground": false,
			"problemMatcher": [],
			"group": "none"
		},
		{
			"label": "stop-node-before-retest",
			"type": "shell",
			"command": "taskkill",
			"args": [
				"/F",
				"/IM",
				"node.exe"
			],
			"isBackground": false,
			"problemMatcher": [],
			"group": "none"
		},
		{
			"label": "check-node-processes",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-NoProfile",
				"-Command",
				"Get-Process node -ErrorAction SilentlyContinue | Select-Object Id,ProcessName,CPU,StartTime | Format-Table -AutoSize | Out-String -Width 200"
			],
			"isBackground": false,
			"problemMatcher": [],
			"group": "none"
		},
		{
			"label": "stop-node-before-final-run",
			"type": "shell",
			"command": "taskkill",
			"args": [
				"/F",
				"/IM",
				"node.exe"
			],
			"isBackground": false,
			"problemMatcher": [],
			"group": "none"
		},
		{
			"label": "stop-node-stuck",
			"type": "shell",
			"command": "taskkill",
			"args": [
				"/F",
				"/IM",
				"node.exe"
			],
			"isBackground": false,
			"problemMatcher": [],
			"group": "none"
		}
	]
}